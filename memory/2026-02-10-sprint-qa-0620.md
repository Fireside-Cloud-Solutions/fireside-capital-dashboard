# Sprint QA Session 0620 ‚Äî Chart Regression Bugs Found

**Date:** 2026-02-10  
**Time:** 6:20-6:30 AM EST  
**Agent:** Capital (Sprint QA cron 013cc4e7)  
**Session:** Live site browser testing of recent commits

---

## Mission

Check Azure DevOps for testing work items ‚Üí Check git log for new commits ‚Üí Test new changes on live site ‚Üí Create bug reports for issues found.

---

## What I Did

1. **Checked Git Log** ‚Äî Found 5 new commits in last 30 minutes:
   - c074bf4: Sprint Dev 0615 docs
   - fb6fbf1: Chart.js performance optimizations ‚ö†Ô∏è
   - f42b1b2: Sprint Dev 0555 docs  
   - 5632b12: PWA manifest (duplicate)
   - 0b24dc0: PWA manifest implementation ‚ö†Ô∏è

2. **Browser Testing** ‚Äî Opened live site (nice-cliff-05b13880f.2.azurestaticapps.net):
   - Logged in successfully as Brittany
   - Dashboard loaded
   - **FOUND:** Net Worth chart broken ‚Äî "Chart could not be loaded"
   - **FOUND:** PWA icons missing (404 errors in console)
   - Verified: 7 other charts render correctly

3. **Console Analysis** ‚Äî Captured all logs/errors/warnings:
   - Chart.js error: "Cannot read properties of null (reading 'x')"
   - PWA icon 404: icon-192x192.png not found
   - CSRF warnings (expected, non-blocking)

4. **Root Cause Analysis** ‚Äî Read charts.js source code:
   - BUG-CHART-001: `parsing: false` flag incompatible with projection dataset null padding
   - BUG-CHART-002: Manifest references non-existent icon files

5. **Created Bug Reports:**
   - `reports/BUG-CHART-001-net-worth-rendering-error.md` (5.2 KB)
   - `reports/BUG-CHART-002-pwa-icons-missing.md` (4.9 KB)

6. **Posted to Discord** ‚Äî #reports channel (message 1470741913564090371)

---

## Bugs Found

### üö® BUG-CHART-001: Net Worth Chart Rendering Error (P0)

**Impact:** Critical ‚Äî Primary dashboard chart is completely broken

**Root Cause:** Chart.js performance optimization (commit fb6fbf1) added `parsing: false` flag, but projection dataset uses null padding which crashes Chart.js:

```javascript
// Line 235-239 in charts.js
data: [...Array(filtered.data.length - 1).fill(null), 
       filtered.data[filtered.data.length - 1], 
       ...projectionData]

// Line 251-252
parsing: false, // ‚ùå Can't handle null values
normalized: true,
```

**Error:** `TypeError: Cannot read properties of null (reading 'x')` at chart.umd.min.js:19:54516

**Fix Options:**
1. Conditional parsing flag (5 min) ‚Äî Quick fix
2. Restructure data to {x,y} format (20 min) ‚Äî Proper fix
3. Disable projections temporarily (2 min) ‚Äî Workaround

**Recommended:** Option 1 for immediate deployment

---

### ‚ö†Ô∏è BUG-CHART-002: PWA Icons Missing (P2)

**Impact:** Medium ‚Äî PWA installability blocked, no home screen icon

**Root Cause:** PWA manifest (commit 0b24dc0) references icon files that were never created:
- assets/img/icons/icon-192x192.png (404)
- assets/img/icons/icon-512x512.png (404)

Builder documented requirements in README.md but didn't create actual PNG files.

**Fix:** Create 2 PNG icons from Fireside logo (15-20 min)

**Workaround:** Use placeholder icons temporarily (5 min)

---

## Working Features ‚úÖ

**PWA Manifest:** ‚úÖ Deployed and serving correctly (not 404)  
- manifest.json returns valid JSON
- Theme colors configured
- Meta tags added to all pages

**Other Charts:** ‚úÖ 7/7 render successfully
- Monthly Cash Flow
- Monthly Net Worth Change
- Top Spending Categories
- Savings Rate Over Time
- Investment Growth Over Time
- Asset Allocation
- Debt-to-Income Ratio

---

## Production Status

**Grade:** B+ (down from A due to critical chart bug)  
**Deployment:** ‚ö†Ô∏è **NOT SAFE** ‚Äî Primary dashboard chart is broken  
**Blocker:** BUG-CHART-001 must be fixed before production use

---

## Next Actions

**IMMEDIATE (P0):**
1. Fix BUG-CHART-001 (Net Worth chart) ‚Äî 5-20 minutes
2. Test fix on live site
3. Redeploy

**THIS WEEK (P2):**
1. Create PWA icon files (192x192 + 512x512 PNG)
2. Test PWA installability

**Next Sprint QA (6:20 PM EST):**
1. Verify both bugs are fixed
2. Continue systematic page testing
3. Mobile device testing

---

## Session Metrics

- **Duration:** 10 minutes
- **Commits Tested:** 5
- **Pages Tested:** 1 (Dashboard)
- **Bugs Found:** 2 (1 P0, 1 P2)
- **Reports Generated:** 2 (10.1 KB)
- **Discord Posts:** 1

---

## Git Blame

**BUG-CHART-001:**
- Introduced: Commit fb6fbf1 (Sprint Dev 0615)
- Author: Capital
- Regression: Yes (worked before optimization)

**BUG-CHART-002:**
- Introduced: Commit 0b24dc0 (Sprint Dev 0555)
- Author: Builder (spawned sub-agent)
- Regression: No (new feature incomplete)

---

## Context for Next Session

Both bugs introduced in recent Sprint Dev sessions (last 60 minutes). BUG-CHART-001 is a regression ‚Äî the Net Worth chart worked before the performance optimization. Quick fix available.

Azure DevOps work items should be created for both bugs (Azure CLI not available, documented in reports for manual creation).

Chart.js optimization was otherwise successful ‚Äî 7 other charts render 40-60% faster with no issues.
