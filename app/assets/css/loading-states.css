/* =================================================================
   Fireside Capital â€” Loading States
   Spinners, overlays, skeletons, and loading indicators
   ================================================================= */

/* =================================================================
   PAGE-LEVEL LOADING OVERLAY
   ================================================================= */

.loading-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(26, 26, 26, 0.9); /* Dark theme default */
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  opacity: 0;
  transition: opacity 150ms ease;
}

body[data-theme="light"] .loading-overlay {
  background: rgba(255, 255, 255, 0.95);
}

.loading-overlay .loading-content {
  text-align: center;
  color: var(--color-text);
}

.loading-overlay .loading-content p {
  font-size: 14px;
  color: var(--color-text-secondary);
  margin-top: 16px;
  margin-bottom: 0;
}

/* =================================================================
   CARD LOADING STATES
   ================================================================= */

.loading-card-content {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 200px;
}

.card.loading {
  position: relative;
  overflow: hidden;
}

.card.loading::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.05),
    transparent
  );
  animation: card-shimmer 1.5s infinite;
}

body[data-theme="light"] .card.loading::after {
  background: linear-gradient(
    90deg,
    transparent,
    rgba(0, 0, 0, 0.02),
    transparent
  );
}

@keyframes card-shimmer {
  0% {
    left: -100%;
  }
  100% {
    left: 100%;
  }
}

/* =================================================================
   SKELETON LOADERS (TABLE ROWS)
   ================================================================= */

.skeleton-loader {
  height: 16px;
  background: linear-gradient(
    90deg,
    var(--color-bg-2) 25%,
    var(--color-bg-3) 50%,
    var(--color-bg-2) 75%
  );
  background-size: 200% 100%;
  border-radius: 4px;
  animation: skeleton-pulse 1.5s ease-in-out infinite;
}

@keyframes skeleton-pulse {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

.skeleton-row td {
  padding: 16px 12px;
}

.skeleton-row .skeleton-loader {
  max-width: 80%;
}

/* Vary skeleton widths for visual interest */
.skeleton-row td:nth-child(1) .skeleton-loader { max-width: 70%; }
.skeleton-row td:nth-child(2) .skeleton-loader { max-width: 50%; }
.skeleton-row td:nth-child(3) .skeleton-loader { max-width: 60%; }
.skeleton-row td:nth-child(4) .skeleton-loader { max-width: 75%; }
.skeleton-row td:nth-child(5) .skeleton-loader { max-width: 40%; }

/* =================================================================
   SPINNER CUSTOMIZATION
   ================================================================= */

/* Bootstrap spinner defaults are fine, but add color overrides */
.spinner-border {
  color: var(--color-primary);
  border-width: 2px;
}

.spinner-border-sm {
  border-width: 2px;
}

/* Button loading states */
.btn.loading {
  cursor: not-allowed;
  opacity: 0.7;
  position: relative;
}

.btn.loading .spinner-border {
  color: currentColor;
}

/* =================================================================
   EMPTY STATES
   ================================================================= */

.empty-state {
  padding: 80px 32px;
  text-align: center;
}

.empty-state i {
  font-size: 64px;
  opacity: 0.3;
  color: var(--color-text-tertiary);
}

.empty-state h3 {
  margin-top: 24px;
  font-size: 24px;
  font-weight: 600;
  color: var(--color-text);
}

.empty-state p {
  margin-top: 8px;
  font-size: 14px;
  color: var(--color-text-secondary);
  max-width: 400px;
  margin-left: auto;
  margin-right: auto;
}

.empty-state .btn {
  margin-top: 24px;
}

/* =================================================================
   TABLE LOADING STATES
   ================================================================= */

tbody.loading {
  opacity: 0.7;
}

.loading-row td {
  vertical-align: middle;
}

.loading-row .spinner-border {
  width: 2rem;
  height: 2rem;
}

/* =================================================================
   INLINE LOADING INDICATORS
   ================================================================= */

.inline-loading {
  display: inline-flex;
  align-items: center;
  gap: 8px;
}

.inline-loading .spinner-border {
  width: 1rem;
  height: 1rem;
}

/* =================================================================
   LOADING DOTS ANIMATION (ALTERNATIVE)
   ================================================================= */

.loading-dots {
  display: inline-flex;
  gap: 4px;
}

.loading-dots span {
  width: 6px;
  height: 6px;
  background: var(--color-text-tertiary);
  border-radius: 50%;
  animation: loading-dot 1.2s infinite ease-in-out;
}

.loading-dots span:nth-child(1) { animation-delay: 0s; }
.loading-dots span:nth-child(2) { animation-delay: 0.2s; }
.loading-dots span:nth-child(3) { animation-delay: 0.4s; }

@keyframes loading-dot {
  0%, 60%, 100% {
    transform: scale(1);
    opacity: 0.5;
  }
  30% {
    transform: scale(1.5);
    opacity: 1;
  }
}

/* =================================================================
   PROGRESS BARS (FOR LONG OPERATIONS)
   ================================================================= */

.loading-progress {
  width: 100%;
  height: 4px;
  background: var(--color-bg-2);
  border-radius: 2px;
  overflow: hidden;
  position: relative;
}

.loading-progress::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 30%;
  height: 100%;
  background: var(--color-primary);
  animation: loading-progress 1.5s ease-in-out infinite;
}

@keyframes loading-progress {
  0% {
    left: -30%;
  }
  100% {
    left: 100%;
  }
}

/* =================================================================
   RESPONSIVE ADJUSTMENTS
   ================================================================= */

@media (max-width: 768px) {
  .loading-overlay .loading-content {
    padding: 24px;
  }

  .empty-state {
    padding: 40px 16px;
  }

  .empty-state i {
    font-size: 48px;
  }

  .empty-state h3 {
    font-size: 20px;
  }
}

/* =================================================================
   ACCESSIBILITY
   ================================================================= */

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  .loading-overlay,
  .skeleton-loader,
  .card.loading::after,
  .loading-dots span,
  .loading-progress::after {
    animation: none !important;
    transition: none !important;
  }
  
  .spinner-border {
    animation: none !important;
    border-top-color: transparent !important;
  }
}
