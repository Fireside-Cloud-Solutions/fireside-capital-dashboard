const DEMO_MODE_KEY="fireside_demo_mode";function isDemoMode(){return"true"===localStorage.getItem(DEMO_MODE_KEY)}function enableDemoMode(){localStorage.setItem(DEMO_MODE_KEY,"true"),window.location.reload()}function disableDemoMode(){localStorage.removeItem(DEMO_MODE_KEY),window.location.reload()}function demoRelativeDate(e){const t=new Date;return t.setDate(t.getDate()+e),t.toISOString().split("T")[0]}function demoMonthDate(e,t=1){const a=new Date;return a.setMonth(a.getMonth()-e),a.setDate(t),a.toISOString().split("T")[0]}const DEMO_USER={id:"demo-user-001",email:"alex@example.com",name:"Alex Johnson"},DEMO_ASSETS=[{id:"demo-asset-1",user_id:DEMO_USER.id,name:"Primary Residence",type:"real_estate",current_value:385e3,loan_balance:29e4,equity:95e3,created_at:"2022-06-15"},{id:"demo-asset-2",user_id:DEMO_USER.id,name:"2021 Honda Civic",type:"vehicle",current_value:18500,loan_balance:11200,equity:7300,created_at:"2021-03-01"}],DEMO_INCOME=[{id:"demo-inc-1",user_id:DEMO_USER.id,source:"Tech Corp - Salary",type:"W2",amount:5200,frequency:"bi-weekly",next_date:demoRelativeDate(5),created_at:"2024-01-01"},{id:"demo-inc-2",user_id:DEMO_USER.id,source:"Freelance Design",type:"1099",amount:800,frequency:"monthly",next_date:demoRelativeDate(15),created_at:"2024-03-01"}],DEMO_BILLS=[{id:"demo-bill-1",user_id:DEMO_USER.id,name:"Mortgage",amount:1850,frequency:"monthly",due_day:1,category:"bills",status:"active"},{id:"demo-bill-2",user_id:DEMO_USER.id,name:"Electric",amount:95,frequency:"monthly",due_day:15,category:"utilities",status:"active"},{id:"demo-bill-3",user_id:DEMO_USER.id,name:"Internet",amount:65,frequency:"monthly",due_day:20,category:"utilities",status:"active"},{id:"demo-bill-4",user_id:DEMO_USER.id,name:"Netflix",amount:22.99,frequency:"monthly",due_day:8,category:"entertainment",status:"active"},{id:"demo-bill-5",user_id:DEMO_USER.id,name:"Spotify",amount:10.99,frequency:"monthly",due_day:12,category:"entertainment",status:"active"},{id:"demo-bill-6",user_id:DEMO_USER.id,name:"Gym Membership",amount:45,frequency:"monthly",due_day:1,category:"healthcare",status:"active"},{id:"demo-bill-7",user_id:DEMO_USER.id,name:"Car Insurance",amount:145,frequency:"monthly",due_day:10,category:"transportation",status:"active"},{id:"demo-bill-8",user_id:DEMO_USER.id,name:"Phone Plan",amount:85,frequency:"monthly",due_day:18,category:"utilities",status:"active"}],DEMO_DEBTS=[{id:"demo-debt-1",user_id:DEMO_USER.id,name:"Student Loan",type:"student_loan",principal:32e3,current_balance:24500,interest_rate:5.5,monthly_payment:350,remaining_months:70},{id:"demo-debt-2",user_id:DEMO_USER.id,name:"Car Loan",type:"auto",principal:22e3,current_balance:11200,interest_rate:4.9,monthly_payment:385,remaining_months:29}],DEMO_INVESTMENTS=[{id:"demo-inv-1",user_id:DEMO_USER.id,name:"401(k) - Fidelity",type:"retirement",balance:45200,contributions_ytd:3900,return_ytd:5.2},{id:"demo-inv-2",user_id:DEMO_USER.id,name:"Roth IRA - Vanguard",type:"roth_ira",balance:18700,contributions_ytd:700,return_ytd:4.8},{id:"demo-inv-3",user_id:DEMO_USER.id,name:"Taxable - Robinhood",type:"brokerage",balance:8300,contributions_ytd:2400,return_ytd:7.1}],DEMO_SETTINGS={user_id:DEMO_USER.id,emergency_fund_goal:25e3,current_balance:12400,safety_buffer:1e3,category_budgets:{dining:300,groceries:500,transportation:150,utilities:250,entertainment:100,shopping:200,healthcare:100,travel:200,other:150}};function generateDemoTransactions(){const e=[];let t=1;const a=new Date,n=a.getFullYear(),o=a.getMonth();return Object.entries({dining:[["Chipotle",13.5],["Starbucks",6.75],["Uber Eats",28.4],["Panera Bread",11.2],["Local Pizza Co",22]],groceries:[["Whole Foods",84.3],["Trader Joes",67.15],["Kroger",92.4],["Costco",143.8]],transportation:[["Shell Gas",48.2],["Uber",14.5],["Metro Card",33],["Parking Garage",22]],entertainment:[["AMC Theaters",18.5],["Steam",29.99],["Audible",14.95]],shopping:[["Amazon",54.99],["Target",38.45],["Best Buy",89.99],["Gap",62]],healthcare:[["CVS Pharmacy",24.5],["Doctor Co-pay",30],["Walgreens",18.7]],other:[["ATM Withdrawal",60],["Venmo Transfer",25]]}).forEach(([i,r])=>{r.forEach(([r,d])=>{const s=(Math.random()-.5)*d*.2,c=parseFloat((d+s).toFixed(2)),m=Math.max(1,Math.floor(Math.random()*Math.min(a.getDate(),28))+1);e.push({id:"demo-txn-"+t++,user_id:DEMO_USER.id,date:new Date(n,o,m).toISOString().split("T")[0],merchant_name:r,description:`${r}`,amount:c,category:i,status:"cleared"})})}),[["Chipotle","dining",12.8],["Whole Foods","groceries",78.5],["Shell Gas","transportation",51.2],["Amazon","shopping",43.99],["Netflix","entertainment",22.99]].forEach(([a,i,r])=>{const d=Math.floor(28*Math.random())+1;e.push({id:"demo-txn-"+t++,user_id:DEMO_USER.id,date:new Date(n,o-1,d).toISOString().split("T")[0],merchant_name:a,description:`${a}`,amount:r,category:i,status:"cleared"})}),e.sort((e,t)=>t.date.localeCompare(e.date))}function generateDemoSnapshots(){const e=[];let t=118e3;for(let a=11;a>=0;a--){t+=9===a||5===a?-(800*Math.random()+200):1600*Math.random()+1200;const n=403500+.3*(t-145e3),o=n-t;e.push({id:`demo-snap-${a}`,user_id:DEMO_USER.id,date:demoMonthDate(a),net_worth:Math.round(t),total_assets:Math.round(n),total_liabilities:Math.round(Math.max(0,o))})}return e}let _demoTransactionsCache=null,_demoSnapshotsCache=null;const DEMO_DATA={user:DEMO_USER,assets:DEMO_ASSETS,income:DEMO_INCOME,bills:DEMO_BILLS,debts:DEMO_DEBTS,investments:DEMO_INVESTMENTS,settings:DEMO_SETTINGS,get transactions(){return _demoTransactionsCache||(_demoTransactionsCache=generateDemoTransactions()),_demoTransactionsCache},get snapshots(){return _demoSnapshotsCache||(_demoSnapshotsCache=generateDemoSnapshots()),_demoSnapshotsCache}};function initDemoBanner(){const e=document.getElementById("demoBanner");e&&(isDemoMode()?e.classList.remove("d-none"):e.classList.add("d-none"))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initDemoBanner):initDemoBanner(),document.addEventListener("click",function(e){const t=e.target.closest("[data-action]");if(!t)return;const a=t.dataset.action;"disable-demo"===a?(e.preventDefault(),disableDemoMode()):"enable-demo"===a&&(e.preventDefault(),enableDemoMode())});