# Sprint Research: Discord Bot Development for Financial Reports
**Date:** February 4, 2026  
**Researcher:** Capital (Orchestrator Agent)  
**Topic:** Automated financial reporting via Discord bot  
**Purpose:** Enable weekly/monthly automated summaries to #reports channel

---

## Executive Summary

Discord bots using the `message` tool (Clawdbot's native Discord integration) can deliver rich, automated financial reports using **embeds** (rich message cards with structured data, colors, and formatting). This research covers:

1. **Embed design patterns** for financial data
2. **Scheduling strategies** using Clawdbot's cron system
3. **Data visualization** in Discord (tables, charts, trends)
4. **Production-ready code examples** for Fireside Capital

**Key Insight:** Discord embeds support markdown, inline fields, and custom colors â€” perfect for financial dashboards. Use Clawdbot's `cron` tool to schedule reports, and the `message` tool to send formatted embeds.

---

## 1. Discord Embed Anatomy

### Structure
Discord embeds have 10 optional components (at least 1 required):

| Component | Character Limit | Purpose |
|-----------|----------------|---------|
| **Title** | 256 | Report headline |
| **Description** | 4096 | Main body text |
| **Color** | Hex/RGB | Brand color (left border) |
| **Author** | 256 | Attribution (icon + text) |
| **Fields** | 25 max | Key-value pairs (name: 256, value: 1024) |
| **Thumbnail** | URL | Small image (top right) |
| **Image** | URL | Large image (bottom) |
| **Footer** | 2048 | Timestamp or metadata |
| **Timestamp** | ISO 8601 | Auto-formatted date |
| **URL** | Link | Clickable title |

### Character Limits (Critical)
- **Total embed size:** 6000 characters across all fields
- **Max 10 embeds per message**
- **Max 25 fields per embed**
- **Empty fields cause Bad Request** â€” use `\u200b` (zero-width space) for visual breaks

---

## 2. Financial Report Embed Patterns

### Pattern A: Summary Card (Dashboard Snapshot)

**Use Case:** Daily/weekly net worth summary  
**Visual Style:** Clean, metric-focused, color-coded

```javascript
const summaryEmbed = {
  color: 0x01a4ef, // Fireside blue
  title: "ðŸ“Š Weekly Financial Summary",
  description: "Your financial snapshot for the week of Feb 1-7, 2026",
  thumbnail: {
    url: "https://nice-cliff-05b13880f.2.azurestaticapps.net/assets/img/logo.png"
  },
  fields: [
    {
      name: "ðŸ’° Net Worth",
      value: "**$127,543.21**\nâ†—ï¸ +$2,450 (+2.0%) this week",
      inline: true
    },
    {
      name: "ðŸ’³ Total Debts",
      value: "**$42,150.00**\nâ†˜ï¸ -$1,200 (-2.8%) paid down",
      inline: true
    },
    {
      name: "ðŸ“ˆ Investments",
      value: "**$85,230.50**\nâ†—ï¸ +$3,150 (+3.8%) gains",
      inline: true
    },
    {
      name: "ðŸ  Assets",
      value: "**$250,000.00**\nâ€” No change",
      inline: true
    },
    {
      name: "ðŸ’µ Liquid Cash",
      value: "**$12,463.71**\nâ†˜ï¸ -$500 (spent)",
      inline: true
    },
    {
      name: "ðŸ“… Upcoming Bills",
      value: "**$1,850.00**\n3 bills due this week",
      inline: true
    }
  ],
  footer: {
    text: "Generated by Fireside Capital â€¢ Next report: Feb 11"
  },
  timestamp: new Date().toISOString()
};

// Send to #reports channel using Clawdbot message tool
// message({ action: "send", target: "1467330088923300039", embed: summaryEmbed })
```

**Visual Output:**
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘ ðŸ“Š Weekly Financial Summary              â•‘
â•‘ Your financial snapshot for Feb 1-7      â•‘
â•Ÿâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢
â•‘ ðŸ’° Net Worth          | ðŸ’³ Total Debts   â•‘
â•‘ $127,543.21           | $42,150.00       â•‘
â•‘ â†—ï¸ +$2,450 (+2.0%)    | â†˜ï¸ -$1,200       â•‘
â•Ÿâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢
â•‘ ðŸ“ˆ Investments        | ðŸ  Assets        â•‘
â•‘ $85,230.50            | $250,000.00      â•‘
â•‘ â†—ï¸ +$3,150 (+3.8%)    | â€” No change      â•‘
â•Ÿâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢
â•‘ ðŸ’µ Liquid Cash        | ðŸ“… Upcoming Billsâ•‘
â•‘ $12,463.71            | $1,850.00        â•‘
â•‘ â†˜ï¸ -$500              | 3 bills due      â•‘
â•Ÿâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢
â•‘ â± Feb 4, 2026 2:37 PM                   â•‘
â•‘ Generated by Fireside Capital            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

### Pattern B: Spending Breakdown (Budget vs Actual)

**Use Case:** Monthly budget report  
**Visual Style:** Progress bars, category breakdowns

```javascript
const budgetEmbed = {
  color: 0xf44e24, // Fireside orange (warning color for budget)
  title: "ðŸ’³ January Spending Report",
  description: "You spent **$4,250** of your **$5,000** budget (85% used)",
  fields: [
    {
      name: "ðŸ” Food & Dining",
      value: "**$850** / $1,000 (85%)\n`â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘` Budget remaining: $150",
      inline: false
    },
    {
      name: "ðŸš— Transportation",
      value: "**$320** / $400 (80%)\n`â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘` Budget remaining: $80",
      inline: false
    },
    {
      name: "ðŸ  Housing",
      value: "**$1,800** / $2,000 (90%)\n`â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘` Budget remaining: $200",
      inline: false
    },
    {
      name: "ðŸŽ® Entertainment",
      value: "**$280** / $300 (93%)\n`â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘` Budget remaining: $20 âš ï¸",
      inline: false
    },
    {
      name: "ðŸ›’ Shopping",
      value: "**$650** / $600 (108%) âŒ OVER BUDGET\n`â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ` Overspent by $50",
      inline: false
    },
    {
      name: "ðŸ’¡ Utilities",
      value: "**$350** / $400 (88%)\n`â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘` Budget remaining: $50",
      inline: false
    },
    {
      name: "\u200b", // Blank separator
      value: "\u200b",
      inline: false
    },
    {
      name: "ðŸŽ¯ Budget Status",
      value: "**On track** â€” You have $750 remaining for February",
      inline: false
    }
  ],
  footer: {
    text: "Tip: Move $50 from Shopping to Entertainment to rebalance"
  },
  timestamp: new Date().toISOString()
};
```

**Key Techniques:**
- **Progress bars:** Use block characters `â–ˆ` (filled) and `â–‘` (empty)
- **Status indicators:** âœ… (under budget), âš ï¸ (near limit), âŒ (over budget)
- **Blank separators:** `\u200b` creates visual breaks between sections

---

### Pattern C: Payment Reminder (Upcoming Bills)

**Use Case:** 3-day advance bill alert  
**Visual Style:** Urgent, action-oriented

```javascript
const reminderEmbed = {
  color: 0xff4444, // Red for urgency
  title: "âš ï¸ Bills Due This Week",
  description: "You have **3 bills** totaling **$1,850** due in the next 7 days:",
  fields: [
    {
      name: "ðŸ“± Verizon Wireless",
      value: "**$120.00** due **Feb 7** (3 days)\n[Pay Now](https://verizon.com)",
      inline: true
    },
    {
      name: "âš¡ Con Edison (Electric)",
      value: "**$230.00** due **Feb 9** (5 days)\n[Pay Now](https://coned.com)",
      inline: true
    },
    {
      name: "ðŸ  Rent (Shared with Alex)",
      value: "**$1,500.00** due **Feb 1** â° OVERDUE\n[Mark Paid](https://nice-cliff-05b13880f.2.azurestaticapps.net/bills.html)",
      inline: false
    }
  ],
  footer: {
    text: "Set up autopay to never miss a payment"
  },
  timestamp: new Date().toISOString()
};
```

**Best Practices:**
- **Use emojis** to convey urgency (âš ï¸ â° ðŸš¨)
- **Include action links** (Pay Now buttons)
- **Color code by urgency:**
  - Green (0x81b900): Paid on time
  - Orange (0xf44e24): Due soon (3-7 days)
  - Red (0xff4444): Overdue

---

### Pattern D: Investment Performance (Chart-Style)

**Use Case:** Monthly investment gains/losses  
**Visual Style:** ASCII chart, sparklines

```javascript
const investmentEmbed = {
  color: 0x81b900, // Green for gains
  title: "ðŸ“ˆ January Investment Performance",
  description: "Your portfolio gained **$3,150** (+3.8%) this month",
  fields: [
    {
      name: "Account Breakdown",
      value: [
        "**401(k)** (Vanguard)",
        "$50,000 â†’ $51,500 (+3.0%)",
        "`ðŸ“ˆ â–â–‚â–ƒâ–…â–†â–ˆ` +$1,500",
        "",
        "**Roth IRA** (Fidelity)",
        "$30,000 â†’ $31,200 (+4.0%)",
        "`ðŸ“ˆ â–‚â–ƒâ–…â–‡â–ˆ` +$1,200",
        "",
        "**Brokerage** (Robinhood)",
        "$5,230 â†’ $5,680 (+8.6%)",
        "`ðŸ“ˆ â–â–ƒâ–…â–†â–ˆ` +$450 ðŸš€"
      ].join("\n"),
      inline: false
    },
    {
      name: "Top Performer",
      value: "**ONDS** (+15.2%) â€” Your best holding this month!",
      inline: true
    },
    {
      name: "Total Gains YTD",
      value: "**$3,150** (+3.8%)\nOn track for 45% annual return",
      inline: true
    }
  ],
  thumbnail: {
    url: "https://i.imgur.com/chart-placeholder.png" // Replace with Chart.js rendered image
  },
  footer: {
    text: "Data from Plaid â€¢ Updated daily at 6 AM EST"
  },
  timestamp: new Date().toISOString()
};
```

**ASCII Sparkline Characters:**
- `â– â–‚ â–ƒ â–„ â–… â–† â–‡ â–ˆ` (blocks, increasing height)
- `ðŸ“ˆ ðŸ“‰` (trend arrows)
- `ðŸš€ â­ ðŸ’Ž` (celebration emojis for big gains)

---

## 3. Scheduling with Clawdbot Cron

### Cron Job Setup

Fireside Capital can schedule reports using the `cron` tool. Example:

```javascript
// Weekly summary: Every Monday at 8 AM
cron({
  action: "add",
  job: {
    schedule: "0 8 * * MON", // Cron syntax: minute hour day month weekday
    label: "weekly-summary",
    text: "Generate and post the weekly financial summary to #reports",
    contextMessages: 0 // Don't include chat history
  }
});

// Monthly budget report: 1st of every month at 9 AM
cron({
  action: "add",
  job: {
    schedule: "0 9 1 * *",
    label: "monthly-budget",
    text: "Generate January spending report and post to #reports with budget vs actual breakdown"
  }
});

// Daily bill reminders: Every day at 10 AM
cron({
  action: "add",
  job: {
    schedule: "0 10 * * *",
    label: "bill-reminders",
    text: "Check for bills due in the next 7 days and post reminder to #alerts if any found"
  }
});
```

### Cron Schedule Syntax
```
* * * * *
â”‚ â”‚ â”‚ â”‚ â”‚
â”‚ â”‚ â”‚ â”‚ â””â”€ Day of week (0-7, 0=Sunday, 7=Sunday)
â”‚ â”‚ â”‚ â””â”€â”€â”€ Month (1-12)
â”‚ â”‚ â””â”€â”€â”€â”€â”€ Day of month (1-31)
â”‚ â””â”€â”€â”€â”€â”€â”€â”€ Hour (0-23)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€ Minute (0-59)
```

**Common Schedules:**
- `0 8 * * *` â€” Daily at 8 AM
- `0 8 * * MON` â€” Every Monday at 8 AM
- `0 9 1 * *` â€” 1st of month at 9 AM
- `0 10 * * FRI` â€” Every Friday at 10 AM

---

## 4. Data Visualization Techniques

### A. Currency Formatting
Always use `toLocaleString()` with currency options:

```javascript
const amount = 127543.21;

// US Dollar formatting
amount.toLocaleString('en-US', { 
  style: 'currency', 
  currency: 'USD' 
}); // "$127,543.21"

// Compact notation for large numbers
amount.toLocaleString('en-US', { 
  style: 'currency', 
  currency: 'USD',
  notation: 'compact' 
}); // "$127.5K"
```

### B. Percentage Changes with Arrows
```javascript
function formatChange(current, previous) {
  const change = current - previous;
  const percentChange = ((change / previous) * 100).toFixed(1);
  const arrow = change >= 0 ? 'â†—ï¸' : 'â†˜ï¸';
  const sign = change >= 0 ? '+' : '';
  
  return `${arrow} ${sign}$${Math.abs(change).toLocaleString()} (${sign}${percentChange}%)`;
}

// Usage
formatChange(127543, 125093); // "â†—ï¸ +$2,450 (+2.0%)"
formatChange(42150, 43350);   // "â†˜ï¸ -$1,200 (-2.8%)"
```

### C. Progress Bars
```javascript
function progressBar(current, max, length = 10) {
  const percent = Math.min(current / max, 1);
  const filled = Math.round(percent * length);
  const empty = length - filled;
  
  return '`' + 'â–ˆ'.repeat(filled) + 'â–‘'.repeat(empty) + '`';
}

// Usage
progressBar(850, 1000, 10); // "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘"
progressBar(650, 600, 10);  // "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ" (over budget)
```

### D. Trend Sparklines
```javascript
function sparkline(values) {
  const chars = ['â–', 'â–‚', 'â–ƒ', 'â–„', 'â–…', 'â–†', 'â–‡', 'â–ˆ'];
  const min = Math.min(...values);
  const max = Math.max(...values);
  const range = max - min;
  
  return values.map(v => {
    const index = Math.floor(((v - min) / range) * (chars.length - 1));
    return chars[index];
  }).join('');
}

// Usage
const netWorthHistory = [120000, 122000, 125000, 127000, 130000];
sparkline(netWorthHistory); // "â–â–ƒâ–…â–†â–ˆ"
```

---

## 5. Production Implementation Plan

### File Structure
```
fireside-capital/
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ discord-reports.js       # Report generation logic
â”‚   â””â”€â”€ supabase-queries.js      # Database queries
â””â”€â”€ AGENTS.md                    # Capital's instructions
```

### Step 1: Create Report Generator (`scripts/discord-reports.js`)

```javascript
// discord-reports.js
const supabaseUrl = "https://qqtiofdqplwycnwplmen.supabase.co";
const supabaseKey = "eyJhbGci..."; // From TOOLS.md

async function fetchNetWorthSnapshot() {
  const res = await fetch(`${supabaseUrl}/rest/v1/snapshots?select=*&order=date.desc&limit=8`, {
    headers: {
      'apikey': supabaseKey,
      'Authorization': `Bearer ${supabaseKey}`
    }
  });
  return await res.json();
}

async function generateWeeklySummary() {
  const snapshots = await fetchNetWorthSnapshot();
  const latest = snapshots[0];
  const lastWeek = snapshots[7];
  
  const change = latest.net_worth - lastWeek.net_worth;
  const percentChange = ((change / lastWeek.net_worth) * 100).toFixed(1);
  const arrow = change >= 0 ? 'â†—ï¸' : 'â†˜ï¸';
  const sign = change >= 0 ? '+' : '';
  
  return {
    color: change >= 0 ? 0x81b900 : 0xff4444,
    title: "ðŸ“Š Weekly Financial Summary",
    description: `Your net worth for the week of ${new Date(lastWeek.date).toLocaleDateString()} - ${new Date(latest.date).toLocaleDateString()}`,
    fields: [
      {
        name: "ðŸ’° Net Worth",
        value: `**${latest.net_worth.toLocaleString('en-US', { style: 'currency', currency: 'USD' })}**\n${arrow} ${sign}${Math.abs(change).toLocaleString('en-US', { style: 'currency', currency: 'USD' })} (${sign}${percentChange}%)`,
        inline: true
      },
      // Add more fields from assets, debts, investments tables...
    ],
    footer: {
      text: "Generated by Fireside Capital â€¢ Next report in 7 days"
    },
    timestamp: new Date().toISOString()
  };
}

// Export for use in Capital's cron tasks
module.exports = { generateWeeklySummary };
```

### Step 2: Capital's Cron Task Handler

When a cron job fires with label `weekly-summary`, Capital should:

1. **Run the report generator:**
   ```javascript
   const reportData = await generateWeeklySummary();
   ```

2. **Send to Discord:**
   ```javascript
   message({
     action: "send",
     target: "1467330088923300039", // #reports channel
     embed: reportData
   });
   ```

3. **Post confirmation in #dashboard:**
   ```javascript
   message({
     action: "send",
     target: "1467330085949276448", // #dashboard
     message: "âœ… Weekly summary posted to #reports"
   });
   ```

### Step 3: Set Up Cron Jobs

```javascript
// Weekly summary: Every Monday at 8 AM EST
cron({
  action: "add",
  job: {
    schedule: "0 8 * * MON",
    label: "weekly-summary",
    text: "Run scripts/discord-reports.js generateWeeklySummary() and post to #reports (channel 1467330088923300039)"
  }
});

// Monthly budget report: 1st of month at 9 AM
cron({
  action: "add",
  job: {
    schedule: "0 9 1 * *",
    label: "monthly-budget",
    text: "Generate monthly spending report comparing budget vs actual for last month, post to #reports"
  }
});

// Bill reminders: Daily at 10 AM
cron({
  action: "add",
  job: {
    schedule: "0 10 * * *",
    label: "bill-reminders",
    text: "Check Supabase bills table for any bills due in next 7 days. If found, post reminder to #alerts (channel 1467330087212028129)"
  }
});
```

---

## 6. Best Practices Summary

### Design
1. **Use inline fields** for side-by-side metrics (max 3 per row)
2. **Add emojis** to field names for visual scanning
3. **Color code by status:**
   - Blue (0x01a4ef): Neutral/informational
   - Green (0x81b900): Positive/success
   - Orange (0xf44e24): Warning/attention needed
   - Red (0xff4444): Urgent/overdue
4. **Include timestamps** for report freshness
5. **Add footer tips** with actionable advice

### Data
1. **Always format currency** with `toLocaleString()`
2. **Show percentage changes** with arrows (â†—ï¸ â†˜ï¸)
3. **Use progress bars** for budgets (visual > numbers)
4. **Limit decimal places** to 2 for dollars, 1 for percentages
5. **Provide context** (compare to last week/month/year)

### Performance
1. **Cache database queries** (don't fetch on every render)
2. **Limit embed size** (under 6000 chars total)
3. **Use thumbnail images** for logos (faster load than full images)
4. **Batch API calls** (fetch all data in 1-2 queries, not 10)

### Accessibility
1. **Don't rely on color alone** (use text + emojis + color)
2. **Provide text alternatives** for ASCII charts
3. **Use readable fonts** (avoid fancy Unicode that screen readers can't parse)

---

## 7. Actionable Code Examples

### Example 1: Full Weekly Report Function

```javascript
async function generateWeeklyReport() {
  // Fetch data from Supabase
  const [snapshots, bills, investments] = await Promise.all([
    fetch(`${supabaseUrl}/rest/v1/snapshots?select=*&order=date.desc&limit=8`, { headers }),
    fetch(`${supabaseUrl}/rest/v1/bills?select=*&status=eq.active`, { headers }),
    fetch(`${supabaseUrl}/rest/v1/investments?select=*`, { headers })
  ]);
  
  const latest = snapshots[0];
  const lastWeek = snapshots[7];
  const netWorthChange = latest.net_worth - lastWeek.net_worth;
  const percentChange = ((netWorthChange / lastWeek.net_worth) * 100).toFixed(1);
  
  // Calculate upcoming bills
  const now = new Date();
  const sevenDaysFromNow = new Date(now.getTime() + 7 * 24 * 60 * 60 * 1000);
  const upcomingBills = bills.filter(b => {
    const dueDate = new Date(b.next_due_date);
    return dueDate >= now && dueDate <= sevenDaysFromNow;
  });
  const totalBillsDue = upcomingBills.reduce((sum, b) => sum + b.amount, 0);
  
  // Calculate investment gains
  const investmentTotal = investments.reduce((sum, i) => sum + i.balance, 0);
  
  // Build embed
  return {
    color: netWorthChange >= 0 ? 0x81b900 : 0xff4444,
    title: "ðŸ“Š Weekly Financial Summary",
    description: `Report for ${now.toLocaleDateString('en-US', { month: 'long', day: 'numeric' })}`,
    fields: [
      {
        name: "ðŸ’° Net Worth",
        value: `**${latest.net_worth.toLocaleString('en-US', { style: 'currency', currency: 'USD' })}**\n${netWorthChange >= 0 ? 'â†—ï¸' : 'â†˜ï¸'} ${netWorthChange >= 0 ? '+' : ''}${Math.abs(netWorthChange).toLocaleString('en-US', { style: 'currency', currency: 'USD' })} (${percentChange}%)`,
        inline: true
      },
      {
        name: "ðŸ“ˆ Investments",
        value: `**${investmentTotal.toLocaleString('en-US', { style: 'currency', currency: 'USD' })}**\nAcross ${investments.length} accounts`,
        inline: true
      },
      {
        name: "ðŸ“… Upcoming Bills",
        value: `**${totalBillsDue.toLocaleString('en-US', { style: 'currency', currency: 'USD' })}**\n${upcomingBills.length} bills due this week`,
        inline: true
      }
    ],
    footer: {
      text: "Generated by Fireside Capital â€¢ Next report: " + new Date(now.getTime() + 7 * 24 * 60 * 60 * 1000).toLocaleDateString()
    },
    timestamp: now.toISOString()
  };
}
```

### Example 2: Bill Reminder Alert

```javascript
async function checkBillReminders() {
  const bills = await fetch(`${supabaseUrl}/rest/v1/bills?select=*&status=eq.active`, { headers });
  const now = new Date();
  const threeDaysFromNow = new Date(now.getTime() + 3 * 24 * 60 * 60 * 1000);
  
  const urgentBills = bills.filter(b => {
    const dueDate = new Date(b.next_due_date);
    return dueDate >= now && dueDate <= threeDaysFromNow;
  });
  
  if (urgentBills.length === 0) return null; // No reminders needed
  
  const fields = urgentBills.map(bill => {
    const dueDate = new Date(bill.next_due_date);
    const daysUntil = Math.ceil((dueDate - now) / (1000 * 60 * 60 * 24));
    const urgencyEmoji = daysUntil <= 1 ? 'ðŸš¨' : 'âš ï¸';
    
    return {
      name: `${urgencyEmoji} ${bill.name}`,
      value: `**${bill.amount.toLocaleString('en-US', { style: 'currency', currency: 'USD' })}** due in **${daysUntil} day${daysUntil !== 1 ? 's' : ''}**\n[View Bill](https://nice-cliff-05b13880f.2.azurestaticapps.net/bills.html)`,
      inline: false
    };
  });
  
  return {
    color: 0xff4444,
    title: "âš ï¸ Bills Due Soon",
    description: `You have **${urgentBills.length} bill${urgentBills.length !== 1 ? 's' : ''}** due in the next 3 days`,
    fields: fields,
    footer: {
      text: "Set up autopay to avoid late fees"
    },
    timestamp: now.toISOString()
  };
}
```

### Example 3: Sending the Report

```javascript
// In Capital's cron handler
async function handleWeeklySummaryCron() {
  const embed = await generateWeeklyReport();
  
  // Send to #reports channel
  message({
    action: "send",
    target: "1467330088923300039", // #reports
    embed: embed
  });
  
  // Log to #dashboard
  message({
    action: "send",
    target: "1467330085949276448", // #dashboard
    message: "âœ… Weekly financial summary posted to <#1467330088923300039>"
  });
}
```

---

## 8. Next Steps for Implementation

### Immediate (Can do now)
1. âœ… **Create** `scripts/discord-reports.js` with report generators
2. âœ… **Add cron jobs** for weekly/monthly schedules
3. âœ… **Test** embed formatting in #reports channel
4. âœ… **Document** in AGENTS.md under "Automated Reports"

### Short-term (1-2 weeks)
5. **Add chart images** â€” Use Chart.js to render net worth trend, upload to Imgur/Azure, embed as image
6. **Refine formatting** â€” A/B test emoji usage, field layouts, color schemes
7. **User preferences** â€” Let founder choose report frequency (daily/weekly/monthly)

### Long-term (1+ month)
8. **Interactive buttons** â€” Add "Snooze" or "Mark Paid" buttons to bill reminders (requires Discord buttons API)
9. **Personalized insights** â€” "You're spending 20% more on dining this month"
10. **Forecast reports** â€” "At this rate, you'll have $X saved by end of year"

---

## 9. Resources

### Documentation
- **Clawdbot message tool:** `clawdbot help message`
- **Clawdbot cron tool:** `clawdbot help cron`
- **Discord.js Embed Builder:** https://discordjs.guide/popular-topics/embeds.html
- **Discord Embed Limits:** https://discord.com/developers/docs/resources/channel#embed-object

### Tools
- **Embed Generator:** https://message.style (visual embed designer)
- **Cron Syntax Tester:** https://crontab.guru
- **Currency Formatter:** `toLocaleString()` MDN docs

### Fireside Capital Specific
- **Supabase Tables:** See TOOLS.md for schemas
- **Channel IDs:** TOOLS.md line 6-13
- **Brand Colors:** SOUL.md (Blue #01a4ef, Orange #f44e24, Green #81b900)

---

## 10. Success Metrics

After deploying automated reports, measure:

1. **Engagement:** Reactions/replies to reports (founder interaction)
2. **Timeliness:** Bill payment rate after reminders (did reminders help?)
3. **Accuracy:** Data freshness (snapshots should be < 24 hours old)
4. **Stability:** Zero failed cron jobs (monitor error logs)

**Goal:** By end of February, have 3 automated report types running with >90% delivery success rate.

---

**Status:** âœ… Research Complete  
**Next:** Implement `scripts/discord-reports.js` and deploy cron jobs  
**Effort Estimate:** 8 hours (development) + 2 hours (testing)  
**Assignee:** Capital (Orchestrator)

---

_Compiled by Capital â€¢ February 4, 2026_
